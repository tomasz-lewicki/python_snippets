import numpy as np
import matplotlib.pyplot as plt
from scipy.signal import medfilt

data =[

(10060,316,63),
(10310,213,63),
(10560,298,63),
(10810,362,63),
(11060,166,63),
(11310,219,62),
(11560,555,62),
(11810,558,62),
(12060,184,62),
(12310,358,62),
(12560,431,62),
(12810,447,62),
(13060,165,62),
(13310,418,62),
(13560,713,62),
(13810,365,62),
(14060,375,61),
(14310,509,61),
(14560,443,61),
(14810,502,61),
(15060,700,61),
(15310,559,61),
(15560,197,61),
(15810,494,61),
(16060,729,61),
(16310,272,61),
(16560,141,61),
(16810,332,61),
(17060,448,61),
(17310,385,61),
(17560,308,62),
(17810,298,62),
(18060,381,62),
(18310,456,62),
(18560,274,62),
(18810,279,62),
(19060,338,62),
(19310,497,61),
(19560,565,61),
(19810,275,61),
(20060,243,61),
(20310,220,63),
(20560,409,63),
(20810,605,63),
(21090,95,62),
(21340,148,62),
(21590,420,62),
(21840,542,62),
(22090,483,63),
(22340,567,63),
(22590,352,63),
(22840,326,63),
(23090,261,63),
(23340,591,63),
(23590,219,63),
(23840,274,63),
(24090,311,63),
(24340,455,63),
(24590,342,63),
(24840,188,63),
(25090,1241,63),
(25370,4095,63),
(25620,4095,63),
(25870,4095,63),
(26120,4095,150),
(26370,3875,150),
(26620,1163,150),
(26870,2068,549),
(27120,1736,549),
(27370,656,549),
(27620,790,958),
(27870,817,958),
(28150,149,1357),
(28400,109,1357),
(28650,644,1357),
(28900,624,1631),
(29150,316,1631),
(29400,442,1631),
(29650,280,1802),
(29900,250,1802),
(30180,419,1886),
(30430,473,1886),
(30680,315,1886),
(30930,308,1951),
(31180,315,1951),
(31430,394,1951),
(31680,456,1951),
(31930,233,1969),
(32180,523,1969),
(32430,323,1969),
(32680,371,1969),
(32930,542,1980),
(33180,406,1980),
(33430,275,1980),
(33680,458,1887),
(33930,550,1887),
(34180,116,1887),
(34430,536,1887),
(34680,362,1492),
(34930,407,1492),
(35180,439,1492),
(35430,224,1089),
(35680,516,1089),
(35930,352,1089),
(36180,552,1089),
(36430,390,1089),
(36680,217,1089),
(36930,296,1089),
(37180,108,1089),
(37430,408,1089),
(37680,291,1089),
(37930,499,1089),
(38180,452,688),
(38430,262,688),
(38680,348,688),
(38930,528,417),
(39180,285,417),
(39430,449,417),
(39680,300,417),
(39930,397,247),
(40180,477,247),
(40430,375,247),
(40680,271,162),
(40930,548,162),
(41180,704,162),
(41430,381,162),
(41680,355,97),
(41930,473,97),
(42180,487,97),
(42430,397,97),
(42680,411,81),
(42930,306,81),
(43180,399,81),
(43430,426,76),
(43680,271,76),
(43930,340,76),
(44180,435,76),
(44430,315,73),
(44680,367,73),
(44930,483,73),
(45210,553,76),
(45460,399,76),
(45710,319,76),
(45960,193,76),
(46210,472,78),
(46460,411,78),
(46710,200,78),
(46960,482,78),
(47210,188,84),
(47460,345,84),
(47710,392,84),
(47960,297,92),
(48210,327,92),
(48460,452,92),
(48710,409,92),
(48960,667,100),
(49210,420,100),
(49460,630,100),
(49710,189,100),
(49960,293,100),
(50210,563,100),
(50490,467,100),
(50740,251,100),
(50990,333,100),
(51240,151,100),
(51490,144,108),
(51740,800,108),
(51990,372,108),
(52240,503,108),
(52490,330,108),
(52740,378,108),
(52990,474,108),
(53240,199,108),
(53490,623,108),
(53740,344,108),
(53990,452,115),
(54240,455,115),
(54490,352,115),
(54770,365,115),
(55020,465,115),
(55270,263,115),
(55520,576,115),
(55770,330,115),
(56020,511,115),
(56270,120,115),
(56520,504,120),
(56770,501,120),
(57020,368,120),
(57270,493,120),
(57520,436,120),
(57770,490,120),
(58020,255,120),
(58300,222,118),
(58550,225,118),
(58800,478,118),
(59050,328,118),
(59300,616,110),
(59550,423,110),
(59800,570,110),
(60050,304,110),
(60300,522,103),
(60550,326,103),
(60800,337,103),
(61050,547,96),
(61300,457,96),
(61550,238,96),
(61800,189,96),
(62050,335,87),
(62300,442,87),
(62550,415,87),
(62800,454,79),
(63050,358,79),
(63300,504,79),
(63550,338,79),
(63800,421,74),
(64050,352,74),


]

fig, ax = plt.subplots()

data = np.array(data)
x = data[:,0]
sharp = data[:, 1]
pms = data[:,2]

x = x-10000
sharp = medfilt(sharp,11)
sharp = np.absolute((sharp-400))
plt.plot(x, 1.4*sharp, '-r', label='sharp GP2Y1010AU0F \nwith enhanced airflow')
plt.plot(x, pms, '-g', label='pms3003')
ax.set_xlabel('time [ms]')
ax.set_ylabel('pm level [ug/m3]')
plt.legend(loc='upper right')

plt.show()
print(x)